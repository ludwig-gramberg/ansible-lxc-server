<VirtualHost *:80>

	{% include "templates/vhost.internal.j2" ignore missing %}

	ErrorLog ${APACHE_LOG_DIR}/error.log
	LogLevel warn
	CustomLog ${APACHE_LOG_DIR}/access.log combined
</VirtualHost>

{% if site.ssl is defined %}
<VirtualHost *:443>

	{% include "templates/vhost.internal.j2" ignore missing %}

	ErrorLog ${APACHE_LOG_DIR}/error.log
	LogLevel warn
	CustomLog ${APACHE_LOG_DIR}/access.log combined

	SSLEngine ON
	SSLCertificateFile /etc/ssl-site-certs/{{ site.ssl.cert_file }}
	SSLCertificateKeyFile /etc/ssl-site-certs/{{ site.ssl.cert_key_file }}
	SSLCertificateChainFile /etc/ssl-site-certs/{{ site.ssl.cert_chain_file }}
</VirtualHost>
{% endif %}